<!DOCTYPE html><html lang="zh-cn" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>用 Qt 写五子棋的夜晚 二 | Jenway's Blog</title><meta name="author" content="Jenway"><meta name="copyright" content="Jenway"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="这篇博文主要讲了 Qt 中的信号与槽 (Signals &amp; Slots) 信号与槽 (Signals &amp; Slots) 信号和槽是用于对象之间的通信的。信号和槽机制是 Qt 的一个核心特性，也是与其他框架提供的特性最不同的部分。信号和槽是由 Qt 的元对象系统实现的。 介绍 在 GUI 编程中，当我们改变一个小部件时，我们经常希望另一个小部件被通知到。更一般地说，我们希望任何类型">
<meta property="og:type" content="article">
<meta property="og:title" content="用 Qt 写五子棋的夜晚 二">
<meta property="og:url" content="https://blog.jenway.link/posts/ff289db2.html">
<meta property="og:site_name" content="Jenway&#39;s Blog">
<meta property="og:description" content="这篇博文主要讲了 Qt 中的信号与槽 (Signals &amp; Slots) 信号与槽 (Signals &amp; Slots) 信号和槽是用于对象之间的通信的。信号和槽机制是 Qt 的一个核心特性，也是与其他框架提供的特性最不同的部分。信号和槽是由 Qt 的元对象系统实现的。 介绍 在 GUI 编程中，当我们改变一个小部件时，我们经常希望另一个小部件被通知到。更一般地说，我们希望任何类型">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover37.webp">
<meta property="article:published_time" content="2022-12-03T08:27:48.000Z">
<meta property="article:modified_time" content="2024-12-25T16:26:30.475Z">
<meta property="article:author" content="Jenway">
<meta property="article:tag" content="Qt">
<meta property="article:tag" content="C++">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover37.webp"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://blog.jenway.link/posts/ff289db2.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const mediaQueryDark = window.matchMedia('(prefers-color-scheme: dark)')
          const mediaQueryLight = window.matchMedia('(prefers-color-scheme: light)')
          
          if (theme === undefined) {
            if (mediaQueryLight.matches) activateLightMode()
            else if (mediaQueryDark.matches) activateDarkMode()
            else {
              const hour = new Date().getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            mediaQueryDark.addEventListener('change', () => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else {
            theme === 'light' ? activateLightMode() : activateDarkMode()
          }
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '用 Qt 写五子棋的夜晚 二',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><!-- hexo injector head_end start --><link rel="stylesheet" href="/css/footerTransp.css?1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"/><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-image: url(img/bak.jpg);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">54</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">49</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">11</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/bangumi/"><i class="fa-fw fas fa-bilibili"></i><span> Bangumi</span></a></li><li><a class="site-page child" href="/custom/homepage/index.html"><i class="fa-fw fas fa-graduation-cap"></i><span> CS50</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover37.webp);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Jenway's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">用 Qt 写五子棋的夜晚 二</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/bangumi/"><i class="fa-fw fas fa-bilibili"></i><span> Bangumi</span></a></li><li><a class="site-page child" href="/custom/homepage/index.html"><i class="fa-fw fas fa-graduation-cap"></i><span> CS50</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">用 Qt 写五子棋的夜晚 二</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-12-03T08:27:48.000Z" title="Created 2022-12-03 16:27:48">2022-12-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-12-25T16:26:30.475Z" title="Updated 2024-12-26 00:26:30">2024-12-26</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><!-- <meting-js
    server="netease"
    type="song"
    autoplay="true"
    id="18126594">
</meting-js> -->
<p>这篇博文主要讲了 Qt 中的信号与槽 (Signals &amp; Slots)</p>
<h2 id="信号与槽-Signals-Slots">信号与槽 (Signals &amp; Slots)</h2>
<p>信号和槽是用于对象之间的通信的。信号和槽机制是 Qt 的一个核心特性，也是与其他框架提供的特性最不同的部分。信号和槽是由 Qt 的元对象系统实现的。</p>
<h3 id="介绍">介绍</h3>
<p>在 GUI 编程中，当我们改变一个小部件时，我们经常希望另一个小部件被通知到。更一般地说，我们希望任何类型的对象都能够相互通信。例如，如果用户点击一个关闭按钮，我们可能希望调用窗口的 close() 函数。</p>
<p>其他工具包使用回调来实现这种通信。回调是一个指向函数的指针，因此如果您希望处理函数通知您某些事件，您将一个指向另一个函数（回调）的指针传递给处理函数。然后，处理函数在适当的时候调用回调。虽然使用这种方法的成功框架确实存在，但回调可能是不直观的，并且可能存在确保回调参数的类型正确性的问题。</p>
<blockquote>
<p>少年，有听说过回调地狱吗？</p>
</blockquote>
<h3 id="Signals-and-Slots">Signals and Slots</h3>
<p>在 Qt 中，我们有一个替代回调技术的方法：我们使用信号和槽。当发生特定事件时，会发出一个信号。Qt 的小部件有许多预定义的信号，但我们总是可以对小部件进行子类化，以向它们添加我们自己的信号。槽是在响应特定信号时调用的函数。Qt 的小部件有许多预定义的槽，但是通常的做法是对小部件进行子类化，并添加自己的槽，以便您可以处理您感兴趣的信号。</p>
<p><img src="https://doc.qt.io/qt-6/images/abstract-connections.png" alt="https://doc.qt.io/qt-6/images/abstract-connections.png"></p>
<p>信号和槽机制是类型安全的：信号的签名必须与接收槽的签名匹配。 （实际上，槽的签名可以比它接收的信号短，因为它可以忽略额外的参数。）由于签名是兼容的，因此编译器可以在使用基于函数指针的语法时帮助我们检测类型不匹配。基于字符串的 SIGNAL 和 SLOT 语法将在运行时检测到类型不匹配。信号和槽松散耦合：发出信号的类既不知道也不关心哪个槽接收信号。 Qt 的信号和槽机制确保如果将信号连接到槽，则槽将在正确的时间使用信号的参数调用。信号和槽可以采用任何类型的任意数量的参数。它们完全类型安全。</p>
<p>从 QObject 或其子类（例如，QWidget）继承的所有类都可以包含信号和槽。当对象以可能对其他对象感兴趣的方式更改其状态时，对象发出信号。这是对象进行通信的全部内容。它不知道也不关心是否有任何内容接收其发出的信号。这是真正的信息封装，并确保对象可以用作软件组件。</p>
<p>槽可用于接收信号，但它们也是普通的成员函数。就像对象不知道是否有任何内容接收其信号一样，槽也不知道是否有任何信号连接到它。这确保可以使用 Qt 创建真正独立的组件。</p>
<p>您可以将任意数量的信号连接到单个槽，也可以将信号连接到所需的任意数量的槽。甚至可以将信号直接连接到另一个信号。 （这将在发出第一个信号时立即发出第二个信号。）</p>
<p>信号和槽一起构成了强大的组件编程机制。</p>
<h3 id="signals">signals</h3>
<p>信号是由对象发出的，当其内部状态以某种可能对对象的客户端或所有者感兴趣的方式更改时。信号是公共访问函数，可以从任何地方发出，但我们建议仅从定义信号及其子类的类发出它们。</p>
<p>当发出信号时，通常会立即执行连接到它的槽，就像普通的函数调用一样。当这种情况发生时，信号和槽机制完全独立于任何 GUI 事件循环。在所有槽返回后，将执行 emit 语句后面的代码。使用排队的连接时情况略有不同；在这种情况下，立即继续执行 emit 关键字后面的代码，并稍后执行槽。</p>
<p>如果将多个槽连接到一个信号，则在发出信号时，槽将按照它们连接的顺序一个接一个地执行。</p>
<p>信号是由 moc 自动生成的，不得在 .cpp 文件中实现。</p>
<p>关于参数的说明：我们的经验表明，如果信号和槽不使用特殊类型，则它们更具可重用性。如果 QScrollBar::valueChanged() 使用特殊类型，例如假设的 QScrollBar::Range，那么它只能连接到专门为 QScrollBar 设计的槽。连接不同的输入小部件将是不可能的。</p>
<h3 id="Slots">Slots</h3>
<p>一个槽是在连接到它的信号发出时调用的函数。槽是普通的 C++ 函数，可以正常调用；它们唯一的特殊功能是信号可以连接到它们。</p>
<p>由于槽是普通的成员函数，因此在直接调用时遵循普通的 C++ 规则。但是，作为槽，它们可以被任何组件调用，而不管其访问级别，通过信号槽连接。这意味着从任意类的实例发出的信号可以导致在不相关类的实例中调用私有槽。</p>
<p>您还可以定义槽为虚拟的，我们发现这在实践中非常有用。</p>
<p>与回调相比，由于它们提供的灵活性增加，信号和槽会稍微慢一些，尽管对于实际应用程序来说，差异微不足道。通常，发出连接到某些槽的信号，比直接调用接收器大约慢十倍，使用非虚函数调用。这是定位连接对象所需的开销，以安全地迭代所有连接（即检查在发出期间是否已销毁后续接收器）以及以通用方式编组任何参数。虽然十个非虚函数调用听起来很多，但它们的开销比任何新的或删除的操作小得多，例如。只要执行字符串、向量或列表操作，这些操作在幕后需要新的或删除的操作，信号和槽的开销就只占完整函数调用成本的很小一部分。每当在槽中执行系统调用时；或间接调用超过十个函数。信号和槽机制的简单性和灵活性远远超过开销，您的用户甚至不会注意到。</p>
<p>请注意，当与基于 Qt 的应用程序一起编译时，定义为信号或槽的其他库可能会导致编译器警告和错误。要解决此问题，请取消定义有问题的预处理器符号。</p>
<h3 id="A-Small-Example">A Small Example</h3>
<p>一个最小的 C++ 类声明可能是这样的：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Counter</span>() &#123; m_value = <span class="number">0</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">value</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> m_value; &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setValue</span><span class="params">(<span class="type">int</span> value)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> m_value;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>一个最小的基于 QObject 的类可能是这样的：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;QObject&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Counter</span> : <span class="keyword">public</span> QObject</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Counter</span>() &#123; m_value = <span class="number">0</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">value</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> m_value; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setValue</span><span class="params">(<span class="type">int</span> value)</span></span>;</span><br><span class="line"></span><br><span class="line">signals:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">valueChanged</span><span class="params">(<span class="type">int</span> newValue)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> m_value;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>基于 QObject 的版本具有相同的内部状态，并提供了公共方法来访问该状态，但除此之外，它还支持使用信号和槽进行组件编程。该类可以通过发出信号 valueChanged() 来告诉外部世界其状态已更改，并且它具有其他对象可以向其发送信号的插槽。</p>
<p>所有包含信号或槽的类都必须在其声明顶部提及 Q_OBJECT。它们还必须从 QObject 派生（直接或间接）。</p>
<p>Slots 由应用程序程序员实现。这是 Counter::setValue() 槽的可能实现：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Counter::setValue</span><span class="params">(<span class="type">int</span> value)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (value != m_value) &#123;</span><br><span class="line">        m_value = value;</span><br><span class="line">        <span class="function">emit <span class="title">valueChanged</span><span class="params">(value)</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>emit 语句会发出来自对象的信号 valueChanged()，并将新值作为参数。</p>
<p>在下面的代码片段中，我们创建了两个 Counter 对象，并使用 QObject::connect() 将第一个对象的 valueChanged() 信号连接到第二个对象的 setValue() 槽：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Counter a, b;</span><br><span class="line">QObject::<span class="built_in">connect</span>(&amp;a, &amp;Counter::valueChanged,</span><br><span class="line">                 &amp;b, &amp;Counter::setValue);</span><br><span class="line"></span><br><span class="line">a.<span class="built_in">setValue</span>(<span class="number">12</span>);     <span class="comment">// a.value() == 12, b.value() == 12</span></span><br><span class="line">b.<span class="built_in">setValue</span>(<span class="number">48</span>);     <span class="comment">// a.value() == 12, b.value() == 48</span></span><br></pre></td></tr></table></figure>
<p>调用 a.setValue(12) 会使 a 发出一个 valueChanged(12) 信号，b 将在其 setValue() 槽中接收该信号，即 b.setValue(12) 被调用。然后 b 发出相同的 valueChanged() 信号，但是由于没有将槽连接到 b 的 valueChanged() 信号，因此该信号被忽略。</p>
<p>注意到 setValue() 函数只在 value != m_value 时设置值并发出信号。这可以防止在循环连接的情况下出现无限循环（例如，如果 b.valueChanged() 连接到 a.setValue()）。</p>
<p>默认情况下，对于您进行的每个连接，都会发出一个信号；对于重复的连接，会发出两个信号。您可以使用单个 disconnect() 调用来断开所有这些连接。如果传递 Qt::UniqueConnection 类型，则仅在不是重复连接时才会进行连接。如果已经存在重复项（完全相同的信号到相同对象上的相同槽），则连接将失败，并且 connect 将返回 false。</p>
<p>这个例子说明了对象可以在不需要彼此了解任何信息的情况下一起工作。为了实现这一点，只需要将对象连接在一起，这可以通过一些简单的 QObject::connect() 函数调用或 uic 的自动连接功能来实现。</p>
<h3 id="A-Real-Example">A Real Example</h3>
<p>接下来是一个简单的小部件类的头文件，没有成员函数。目的是展示如何在自己的应用程序中利用信号和槽。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">ifndef</span> LCDNUMBER_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="keyword">define</span> LCDNUMBER_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="keyword">include</span> <span class="string">&lt;QFrame&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LcdNumber</span> : <span class="keyword">public</span> QFrame</span><br><span class="line">&#123;</span><br><span class="line">    Q_OBJECT</span><br></pre></td></tr></table></figure>
<p>LcdNumber 通过 QFrame 和 QWidget 继承 QObject，它具有大部分信号槽知识。它与内置的 QLCDNumber 小部件有些相似。</p>
<p>Q_OBJECT 宏由预处理器展开，以声明由 moc 实现的几个成员函数；如果您得到类似“LcdNumber 的 vtable 的未定义引用”的编译器错误，则可能忘记运行 moc 或在链接命令中包含 moc 输出。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">LcdNumber</span>(QWidget *parent = <span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line">signals:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">overflow</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<p>在类构造函数和公共成员之后，我们声明类信号。当被要求显示一个不可能的值时，LcdNumber 类发出一个信号 overflow()。</p>
<p>如果您不关心溢出，或者您知道溢出不可能发生，则可以忽略 overflow() 信号，即不将其连接到任何槽。</p>
<p>另一方面，如果您想在数字溢出时调用两个不同的错误函数，只需将信号连接到两个不同的槽即可。Qt 将按照它们连接的顺序调用两者。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> slots:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">(<span class="type">int</span> num)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">(<span class="type">double</span> num)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">(<span class="type">const</span> QString &amp;str)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setHexMode</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setDecMode</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setOctMode</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setBinMode</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setSmallDecimalPoint</span><span class="params">(<span class="type">bool</span> point)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>一个槽是一个接收函数，用于获取其他小部件中的状态更改信息。LcdNumber 使用它，如上面的代码所示，来设置显示的数字。由于 display() 是类与程序的其余部分的接口的一部分，因此槽是公共的。</p>
<p>许多示例程序将 QScrollBar 的 valueChanged() 信号连接到 display() 槽，因此 LCD 数字不断显示滚动条的值。</p>
<p>请注意，display() 被重载；当您将信号连接到槽时，Qt 将选择适当的版本。使用回调，您必须找到五个不同的名称并跟踪类型。</p>
<h3 id="信号和槽-with-默认参数">信号和槽 with 默认参数</h3>
<p>信号和槽的签名可以包含参数，并且参数可以具有默认值。考虑 QObject::destroyed()：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">destroyed</span><span class="params">(QObject* = <span class="literal">nullptr</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<p>当 QObject 被删除时，它会发出此 QObject::destroyed() 信号。我们希望捕获此信号，无论我们是否有对已删除的 QObject 的悬空引用，以便我们可以清理它。适当的槽签名可能是：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">objectDestroyed</span><span class="params">(QObject* obj = <span class="literal">nullptr</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<p>要将信号连接到槽，我们使用 QObject::connect()。有几种连接信号和槽的方法。第一种是使用函数指针：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">connect</span>(sender, &amp;QObject::destroyed, <span class="keyword">this</span>, &amp;MyObject::objectDestroyed);</span><br></pre></td></tr></table></figure>
<p>用 QObject::connect() 和 函数指针，有几个优点。首先，它允许编译器检查信号的参数是否与槽的参数兼容。如果需要，参数也可以由编译器隐式转换。</p>
<p>您还可以连接到函数对象或 C++11 lambda：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">connect</span>(sender, &amp;QObject::destroyed, <span class="keyword">this</span>, [=]()&#123; <span class="keyword">this</span>-&gt;m_objects.<span class="built_in">remove</span>(sender); &#125;);</span><br></pre></td></tr></table></figure>
<p>在这两种情况下，我们在调用 connect() 中提供 this 作为上下文。上下文对象提供有关接收器应在其中执行的线程的信息。这很重要，因为提供上下文确保接收器在上下文线程中执行。</p>
<p>当发出信号时，lambda 将被断开连接，因为 sender 或 context 被销毁。您应该注意，在信号发出时使用的任何对象都是存活的。</p>
<p>将信号连接到槽的另一种方法是使用 QObject::connect() 和 SIGNAL 和 SLOT 宏。如果参数具有默认值，则关于是否在 SIGNAL() 和 SLOT() 宏中包含参数的规则是，传递给 SIGNAL() 宏的签名的参数数量不能少于传递给 SLOT() 宏的签名的参数数量。</p>
<p>所有这些都可以工作：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">connect</span>(sender, <span class="built_in">SIGNAL</span>(<span class="built_in">destroyed</span>(QObject*)), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">objectDestroyed</span>(Qbject*)));</span><br><span class="line"><span class="built_in">connect</span>(sender, <span class="built_in">SIGNAL</span>(<span class="built_in">destroyed</span>(QObject*)), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">objectDestroyed</span>()));</span><br><span class="line"><span class="built_in">connect</span>(sender, <span class="built_in">SIGNAL</span>(<span class="built_in">destroyed</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">objectDestroyed</span>()));</span><br></pre></td></tr></table></figure>
<p>但是这个不会工作：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">connect</span>(sender, <span class="built_in">SIGNAL</span>(<span class="built_in">destroyed</span>()), <span class="keyword">this</span>, <span class="built_in">SLOT</span>(<span class="built_in">objectDestroyed</span>(QObject*)));</span><br></pre></td></tr></table></figure>
<p>…因为槽将期望信号不会发送的 QObject。此连接将报告运行时错误。</p>
<p>请注意，当使用此 QObject::connect() 重载时，不会检查信号和槽参数。</p>
<h2 id="参考">参考</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-6/signalsandslots.html">Signals &amp; Slots | Qt core 6.5.3</a></li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://github.com/Jenway">Jenway</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://blog.jenway.link/posts/ff289db2.html">https://blog.jenway.link/posts/ff289db2.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Qt/">Qt</a><a class="post-meta__tags" href="/tags/C/">C++</a></div><div class="post-share"><div class="social-share" data-image="http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover37.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/bd740bbf.html" title="用 Qt 写五子棋的夜晚 三"><img class="cover" src="http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover14.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">用 Qt 写五子棋的夜晚 三</div></div><div class="info-2"><div class="info-item-1"> 我们首先会介绍游戏运行的逻辑，然后会介绍 AI 的实现，最后会介绍一些打包的细节。 After go 这个游戏的逻辑是这样的： 当游戏开始后，initGame() 函数会被调用，这个函数会初始化游戏的一些参数，比如棋盘的大小，棋盘的数组，以及棋盘的 UI，还会调用一次重绘函数，来绘制棋盘。 最后，initGame() 函数会调用 startGame() 函数，这个函数会启动游戏的主循环。 在游戏的主循环中，会不断的接收玩家的输入，然后判断玩家的输入是否合法，如果合法，就会调用 AfterGo() 函数，这个函数会判断游戏是否结束，如果游戏结束，就会调用 gameOver() 函数，这个函数会弹出一个对话框，告诉玩家游戏结束了，然后会调用 initGame() 函数，重新开始游戏。 如果游戏没有结束，就会调用 changePlayer() 函数，这个函数会切换玩家，然后调用重绘函数，来重绘棋盘。 不同的游戏模式下，changePlayer() 函数的行为是不一样的，比如人机对战模式下，changePlayer() 函数会调用 AI 的函数，来让 AI 下棋，而 PVP...</div></div></div></a><a class="pagination-related" href="/posts/8db9eb9.html" title="用 Qt 写五子棋的夜晚 一"><img class="cover" src="http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover7.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">用 Qt 写五子棋的夜晚 一</div></div><div class="info-2"><div class="info-item-1"> 这篇 Blog 将会记录我用 Qt 写五子棋的过程，以及遇到的一些问题和解决方法。 大一上的计算导论的结课大作业，是要求我们用 C/C++ 写一个五子棋游戏。 简单的控制台版本 我们可以十分简单的用控制台来实现一个五子棋，这种 UI 常被称为 TUI (Text-based User Interface)。 我们需要用到一些特殊字符，它们被称为 ANSI 转义序列，可以用来控制控制台的输出。  ANSI转义序列（ANSI escape sequences）是一种带内信号的转义序列标准，用于控制视频文本终端上的光标位置、颜色和其他选项。在文本中嵌入确定的字节序列，大部分以ESC转义字符和[字符开始，终端会把这些字节序列解释为相应的指令，而不是普通的字符编码。  这里列一个表格，方便以后查阅：    转义序列 含义     \e[1;1H 将光标移动到终端的第一行第一列（即屏幕的左上角位置）   \e[2J 清屏   \e[?25l 隐藏光标   \e[?25h 显示光标    |颜色序列|含义| | RESET | \x1b[0m| | RED | \x1b[31m | |...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/8db9eb9.html" title="用 Qt 写五子棋的夜晚 一"><img class="cover" src="http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover7.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-02</div><div class="info-item-2">用 Qt 写五子棋的夜晚 一</div></div><div class="info-2"><div class="info-item-1"> 这篇 Blog 将会记录我用 Qt 写五子棋的过程，以及遇到的一些问题和解决方法。 大一上的计算导论的结课大作业，是要求我们用 C/C++ 写一个五子棋游戏。 简单的控制台版本 我们可以十分简单的用控制台来实现一个五子棋，这种 UI 常被称为 TUI (Text-based User Interface)。 我们需要用到一些特殊字符，它们被称为 ANSI 转义序列，可以用来控制控制台的输出。  ANSI转义序列（ANSI escape sequences）是一种带内信号的转义序列标准，用于控制视频文本终端上的光标位置、颜色和其他选项。在文本中嵌入确定的字节序列，大部分以ESC转义字符和[字符开始，终端会把这些字节序列解释为相应的指令，而不是普通的字符编码。  这里列一个表格，方便以后查阅：    转义序列 含义     \e[1;1H 将光标移动到终端的第一行第一列（即屏幕的左上角位置）   \e[2J 清屏   \e[?25l 隐藏光标   \e[?25h 显示光标    |颜色序列|含义| | RESET | \x1b[0m| | RED | \x1b[31m | |...</div></div></div></a><a class="pagination-related" href="/posts/bd740bbf.html" title="用 Qt 写五子棋的夜晚 三"><img class="cover" src="http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover14.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-04</div><div class="info-item-2">用 Qt 写五子棋的夜晚 三</div></div><div class="info-2"><div class="info-item-1"> 我们首先会介绍游戏运行的逻辑，然后会介绍 AI 的实现，最后会介绍一些打包的细节。 After go 这个游戏的逻辑是这样的： 当游戏开始后，initGame() 函数会被调用，这个函数会初始化游戏的一些参数，比如棋盘的大小，棋盘的数组，以及棋盘的 UI，还会调用一次重绘函数，来绘制棋盘。 最后，initGame() 函数会调用 startGame() 函数，这个函数会启动游戏的主循环。 在游戏的主循环中，会不断的接收玩家的输入，然后判断玩家的输入是否合法，如果合法，就会调用 AfterGo() 函数，这个函数会判断游戏是否结束，如果游戏结束，就会调用 gameOver() 函数，这个函数会弹出一个对话框，告诉玩家游戏结束了，然后会调用 initGame() 函数，重新开始游戏。 如果游戏没有结束，就会调用 changePlayer() 函数，这个函数会切换玩家，然后调用重绘函数，来重绘棋盘。 不同的游戏模式下，changePlayer() 函数的行为是不一样的，比如人机对战模式下，changePlayer() 函数会调用 AI 的函数，来让 AI 下棋，而 PVP...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Jenway</div><div class="author-info-description">I love you more than you ever know</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">54</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">49</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">11</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Jenway"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Jenway" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:JenwayHere@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="https://music.163.com/#/user/home?id=453746313" target="_blank" title="netease"><i class="iconfont icon-netease-cloud-music-fill" style="color: #d51007;"></i></a><a class="social-icon" href="https://space.bilibili.com/179871013" target="_blank" title="bilibili"><i class="fab fa-bilibili" style="color: #00a1d6;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content"><center> =( •̀ ω •́ )= </center></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD-Signals-Slots"><span class="toc-number">1.</span> <span class="toc-text">信号与槽 (Signals &amp; Slots)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Signals-and-Slots"><span class="toc-number">1.2.</span> <span class="toc-text">Signals and Slots</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#signals"><span class="toc-number">1.3.</span> <span class="toc-text">signals</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Slots"><span class="toc-number">1.4.</span> <span class="toc-text">Slots</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#A-Small-Example"><span class="toc-number">1.5.</span> <span class="toc-text">A Small Example</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#A-Real-Example"><span class="toc-number">1.6.</span> <span class="toc-text">A Real Example</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%A7%BD-with-%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0"><span class="toc-number">1.7.</span> <span class="toc-text">信号和槽 with 默认参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">2.</span> <span class="toc-text">参考</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/9e99c60f.html" title="图片与视频编码"><img src="http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover34.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="图片与视频编码"/></a><div class="content"><a class="title" href="/posts/9e99c60f.html" title="图片与视频编码">图片与视频编码</a><time datetime="2024-10-11T13:27:14.000Z" title="Created 2024-10-11 21:27:14">2024-10-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/46e1063e.html" title="Back to Regression with PyTorch"><img src="http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover28.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Back to Regression with PyTorch"/></a><div class="content"><a class="title" href="/posts/46e1063e.html" title="Back to Regression with PyTorch">Back to Regression with PyTorch</a><time datetime="2024-09-25T05:46:37.000Z" title="Created 2024-09-25 13:46:37">2024-09-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/5774811a.html" title="我没有去过巴塞罗那，但是 42"><img src="http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover15.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="我没有去过巴塞罗那，但是 42"/></a><div class="content"><a class="title" href="/posts/5774811a.html" title="我没有去过巴塞罗那，但是 42">我没有去过巴塞罗那，但是 42</a><time datetime="2024-07-15T05:42:11.000Z" title="Created 2024-07-15 13:42:11">2024-07-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/e585f8d9.html" title="使用 Git-filter-repo 来清理你的 Git Repo 历史"><img src="http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover26.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 Git-filter-repo 来清理你的 Git Repo 历史"/></a><div class="content"><a class="title" href="/posts/e585f8d9.html" title="使用 Git-filter-repo 来清理你的 Git Repo 历史">使用 Git-filter-repo 来清理你的 Git Repo 历史</a><time datetime="2024-06-29T07:10:47.000Z" title="Created 2024-06-29 15:10:47">2024-06-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/baaf2f47.html" title="回归与迭代优化"><img src="http://fastly.jsdelivr.net/gh/jenway/J-figure-bed@master/cover/cover18.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="回归与迭代优化"/></a><div class="content"><a class="title" href="/posts/baaf2f47.html" title="回归与迭代优化">回归与迭代优化</a><time datetime="2024-06-26T13:18:40.000Z" title="Created 2024-06-26 21:18:40">2024-06-26</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By Jenway</div><div class="footer_custom_text"><div style="text-align:center">
  <br />
  <b>I love you more than you ever know.</b>
  <br />
  <br />
  <a target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=for-the-badge&logo=hexo" title="博客框架为Hexo">
  <a target="_blank" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=for-the-badge&logo=honey" title="博客主题为butterfly">
  <br />
  <a target="_blank" href="https://icp.gov.moe/?keyword=20227445" title="本站已加入萌ICP，萌ICP备20227445号">
  <img style="width:32px;height:32px;margin-bottom:-8px" src="https://icp.gov.moe/images/ico64.png">
  <img src="https://img.shields.io/badge/%E8%90%8CICP%E5%A4%87-20227445-fe1384?style=for-the-badge">
  <br />
  </a>&nbsp;<a target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=for-the-badge&logo=GitHub" title="Gtihub托管">
  </a>&nbsp;<a target="_blank" href="https://cloudflare.net/"><img src="https://img.shields.io/badge/CDN-Cloudflare-orange?style=for-the-badge&logo=Cloudflare" title="CloudFlare提供CDN加速">
  </a>&nbsp;<a target="_blank" href="https://app.netlify.com/"><img src="https://img.shields.io/badge/Hosted-Netlify-darkcyan?style=for-the-badge&logo=Netlify" title="Netlify托管">
  </a>&nbsp;<a target="_blank" href="https://www.name.com/"><img src="https://img.shields.io/badge/Domain-Name.com-0cedbe?style=for-the-badge&logo=google" title="域名白嫖自 name.com ">
  </a>&nbsp;
  <br />
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  <br />本站已萌萌哒运行 <span id='htmer_time'></span>
</div>
</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"></div><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="I,LOVE,YOU,MORE,THAN,YOU,EVER,KNOW" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script src="/js/dynamicTabTitle.js"></script><script src="/js/runtimeShow.js"></script>
  <!-- require APlayer -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css">
  <script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script>
  <!-- require MetingJS -->
  <script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
  <script src="https://fastly.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js"></script>
  <meting-js
    server="netease"
    type="playlist"
    order="random"
    id="7290416033"
    fixed=true
    list-folded = "true"
    >
    </meting-js>
  <!-- hexo injector body_end end --></body></html>